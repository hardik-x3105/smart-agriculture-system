<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmer Dashboard | Smart Harvest</title>

    <script>
        if (!localStorage.getItem('isLoggedIn')) {
            window.location.href = "login.html";
        }
    </script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        :root {
            --primary-emerald: #00b894;
            --deep-navy: #1e272e;
            --surface-light: #f8fafc;
            --text-main: #2d3436;
            --accent-blue: #0984e3;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--surface-light);
            color: var(--text-main);
            padding-top: 90px;
        }

        /* Professional Navigation */
        .navbar {
            background-color: rgba(30, 39, 46, 0.98);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            border-bottom: 3px solid var(--primary-emerald);
        }

        .navbar-brand span {
            color: var(--primary-emerald);
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.85) !important;
            font-weight: 500;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--primary-emerald) !important;
        }

        /* Dashboard Header */
        .welcome-banner {
            margin-bottom: 40px;
        }

        .welcome-banner h2 {
            font-weight: 800;
            color: var(--deep-navy);
            letter-spacing: -0.5px;
        }

        .date-badge {
            background: white;
            padding: 8px 18px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
            font-size: 0.85rem;
            color: #64748b;
            font-weight: 600;
        }

        /* Quick Stats Row */
        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.03);
            border: 1px solid rgba(0, 0, 0, 0.02);
            transition: 0.3s;
            text-align: center;
            height: 100%;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.07);
        }

        .stat-icon {
            font-size: 1.8rem;
            margin-bottom: 15px;
            display: inline-block;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--deep-navy);
            line-height: 1;
        }

        .stat-label {
            font-size: 0.75rem;
            font-weight: 700;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 10px;
        }

        /* Farm Profile Section */
        .profile-surface {
            background: var(--deep-navy);
            color: white;
            padding: 40px;
            border-radius: 24px;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .profile-surface::after {
            content: "";
            position: absolute;
            top: -50px;
            right: -50px;
            width: 150px;
            height: 150px;
            background: var(--primary-emerald);
            filter: blur(80px);
            opacity: 0.2;
        }

        .profile-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .profile-item:last-child {
            border-bottom: none;
        }

        .profile-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .profile-value {
            font-weight: 600;
            color: white;
        }

        /* Activity Table */
        .history-card {
            background: white;
            border-radius: 24px;
            padding: 0;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.04);
            border: 1px solid rgba(0, 0, 0, 0.02);
        }

        .table-header {
            padding: 25px;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table {
            margin: 0;
        }

        .table th {
            background: #f8fafc;
            border: none;
            padding: 15px 25px;
            font-size: 0.8rem;
            text-transform: uppercase;
            color: #64748b;
            font-weight: 700;
        }

        .table td {
            border-top: 1px solid #f1f5f9;
            padding: 15px 25px;
            vertical-align: middle;
            color: #475569;
        }

        .badge-status {
            padding: 6px 12px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.75rem;
        }

        footer {
            background: var(--deep-navy);
            color: #94a3b8;
            padding: 40px 0;
            text-align: center;
            margin-top: 60px;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">ðŸŒ¾ Smart<span>Harvest</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="dropdown" data-bs-target="#dashNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="dashNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link active" href="dashboard.html">Dashboard</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Decision Support</a>
                        <ul class="dropdown-menu shadow border-0 mt-2">
                            <li><a class="dropdown-item py-2" href="crop.html">Crop Advisor</a></li>
                            <li><a class="dropdown-item py-2" href="fertilizer.html">Fertilizer Guide</a></li>
                            <li><a class="dropdown-item py-2" href="yield.html">Yield Prediction</a></li>
                        </ul>
                    </li>
                    <li class="nav-item ms-lg-4">
                        <button onclick="handleLogout()" class="btn btn-outline-light rounded-pill px-4 btn-sm">Sign
                            Out</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div
            class="welcome-banner d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-3 animate__animated animate__fadeIn">
            <div>
                <h2 id="farmer-welcome">Welcome back, Farmer!</h2>
                <p class="text-muted mb-0">Manage your farm operations with AI-driven insights.</p>
            </div>
            <div class="d-flex align-items-center gap-3">
                <span class="date-badge" id="live-date">Loading date...</span>
                <a href="crop.html" class="btn btn-success rounded-pill shadow-sm px-4">New Prediction <i
                        class="bi bi-plus"></i></a>
            </div>
        </div>

        <div class="row g-4 mb-5 animate__animated animate__fadeInUp">
            <div class="col-6 col-lg-3">
                <div class="stat-card">
                    <span class="stat-icon" style="color: var(--primary-emerald);"><i class="bi bi-bullseye"></i></span>
                    <div class="stat-value">92%</div>
                    <div class="stat-label">Prediction Accuracy</div>
                </div>
            </div>
            <div class="col-6 col-lg-3">
                <div class="stat-card">
                    <span class="stat-icon" style="color: var(--accent-blue);"><i
                            class="bi bi-clipboard2-check"></i></span>
                    <div class="stat-value">28</div>
                    <div class="stat-label">Total Field Tests</div>
                </div>
            </div>
            <div class="col-6 col-lg-3">
                <div class="stat-card">
                    <span class="stat-icon" style="color: #e17055;"><i class="bi bi-droplet-half"></i></span>
                    <div class="stat-value">65%</div>
                    <div class="stat-label">Soil Moisture</div>
                </div>
            </div>
            <div class="col-6 col-lg-3">
                <div class="stat-card">
                    <span class="stat-icon" style="color: #6c5ce7;"><i class="bi bi-graph-up"></i></span>
                    <div class="stat-value">â‚¹ 1.2M</div>
                    <div class="stat-label">Estimated Revenue</div>
                </div>
            </div>
        </div>

        <div class="row g-4 animate__animated animate__fadeInUp" style="animation-delay: 0.1s;">
            <div class="col-lg-4">
                <div class="profile-surface">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h4 class="fw-bold mb-0">Farm Profile</h4>
                        <a href="profile.html" class="text-white opacity-50"><i class="bi bi-pencil-square"></i></a>
                    </div>
                    <div class="mt-2">
                        <div class="profile-item"><span class="profile-label">District</span><span
                                class="profile-value">Vadodara, Gujarat</span></div>
                        <div class="profile-item"><span class="profile-label">Soil Profile</span><span
                                class="profile-value">Black Soil (Clayey)</span></div>
                        <div class="profile-item"><span class="profile-label">Land Area</span><span
                                class="profile-value">12.5 Hectares</span></div>
                        <div class="profile-item"><span class="profile-label">Primary Crop</span><span
                                class="profile-value">Cotton / Wheat</span></div>
                        <div class="profile-item"><span class="profile-label">Member Since</span><span
                                class="profile-value">Oct 2024</span></div>
                    </div>
                    <div class="mt-5 p-3 rounded-4"
                        style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);">
                        <p class="small mb-0 opacity-75"><i class="bi bi-shield-check me-2"></i>Soil Health Card
                            Verified</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-8">
                <div class="history-card">
                    <div class="table-header">
                        <h5 class="fw-bold mb-0">Recent Analysis History</h5>
                        <button class="btn btn-sm btn-outline-secondary rounded-pill">View All</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover align-middle">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Analysis Module</th>
                                    <th>Confidence</th>
                                    <th>Result</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Jan 23, 2026</td>
                                    <td><i class="bi bi-tree me-2"></i>Crop Recommendation</td>
                                    <td>High (94%)</td>
                                    <td><span class="badge-status bg-success bg-opacity-10 text-success">Rice
                                            (Paddy)</span></td>
                                </tr>
                                <tr>
                                    <td>Jan 20, 2026</td>
                                    <td><i class="bi bi-graph-up-arrow me-2"></i>Yield Forecasting</td>
                                    <td>Med (88%)</td>
                                    <td><span class="badge-status bg-primary bg-opacity-10 text-primary">4.2
                                            Tons/Ha</span></td>
                                </tr>
                                <tr>
                                    <td>Jan 15, 2026</td>
                                    <td><i class="bi bi-flask me-2"></i>Fertilizer Advisory</td>
                                    <td>High (96%)</td>
                                    <td><span
                                            class="badge-status bg-warning bg-opacity-10 text-warning text-dark">Potash
                                            40kg</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p class="small mb-0">Â© 2026 Smart Harvest System. All Rights Reserved. | <a href="help.html"
                    class="text-success text-decoration-none">User Guide</a></p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 1. Update Farmer Name from Login
            const name = localStorage.getItem('farmerName') || 'Farmer';
            document.getElementById('farmer-welcome').innerText = `Welcome back, ${name}!`;

            // 2. Set Real-time Date
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const today = new Date();
            document.getElementById('live-date').innerText = today.toLocaleDateString('en-US', options);

            // 3. Dynamic Profile Update Simulation
            // In a real app, this would fetch from a database. 
            // We use the stored name for basic personalization.
            console.log(`System initialized for: ${name}`);
        });

        // Logout Logic
        function handleLogout() {
            if (confirm("Logout from Smart Harvest?")) {
                localStorage.clear();
                window.location.href = "index.html";
            }
        }
    </script>
</body>

</html>